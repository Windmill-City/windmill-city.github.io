<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>æ‰‹æ“ Gitbook ä¸»é¢˜ | æ˜ç†</title>
<meta name="generator" content="Jekyll v4.2.2">
<meta property="og:title" content="æ‰‹æ“ Gitbook ä¸»é¢˜">
<meta name="author" content="Windmill-City">
<meta property="og:locale" content="en_US">
<meta name="description" content="èµ·å› ">
<meta property="og:description" content="èµ·å› ">
<link rel="canonical" href="https://windmill-city.github.io//%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/2022/09/13/%E5%AE%8C%E5%85%A8Jekyll%E5%8C%96.html">
<meta property="og:url" content="https://windmill-city.github.io//%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/2022/09/13/%E5%AE%8C%E5%85%A8Jekyll%E5%8C%96.html">
<meta property="og:site_name" content="æ˜ç†">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-09-13T00:00:00+08:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="æ‰‹æ“ Gitbook ä¸»é¢˜">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Windmill-City"},"dateModified":"2022-09-18T16:26:38+08:00","datePublished":"2022-09-13T00:00:00+08:00","description":"èµ·å› ","headline":"æ‰‹æ“ Gitbook ä¸»é¢˜","mainEntityOfPage":{"@type":"WebPage","@id":"https://windmill-city.github.io//%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/2022/09/13/%E5%AE%8C%E5%85%A8Jekyll%E5%8C%96.html"},"url":"https://windmill-city.github.io//%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/2022/09/13/%E5%AE%8C%E5%85%A8Jekyll%E5%8C%96.html"}</script>
<!-- End Jekyll SEO tag -->


    <!--CSS Style Sheets-->
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/github-markdown.css">
    <link rel="stylesheet" href="/assets/font-awesome-4.7.0/css/font-awesome.css">
    <link href="/assets/css/viewer.css" rel="stylesheet">
    <!--favicon-->
    <link rel="icon" href="/assets/img/favicon.ico">
    <!--js-->
    <script src="/assets/js/jquery.js"></script>
    <script src="/assets/js/viewer.js"></script>
    <script src="/assets/js/jquery-viewer.js"></script>
    <script>
        let Viewer;
        $(document).ready(function () {
            Viewer = $("#page-content").viewer();
        })
    </script>
</head>

<body>
    <div id="nav-aside">
    <ul>
        <!--Home page-->
        <li id="home"><a href="/">æ˜ç†</a></li>
        <!--Table of Pages-->
        <ul id="pages">
<li><a href="/category/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/">ä¸ªäººç½‘ç«™</a></li>
<li><a href="/category/stm32/">STM32</a></li>
<li><a href="/category/scons/">SCons</a></li>
<li><a href="/category/%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2/">å›¾å½¢ç•Œé¢</a></li>
</ul>
        <!--Table of Posts-->
        <ul id="posts">
            
            
            <li><a href="/%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2/2023/01/29/%E4%BD%BF%E7%94%A8GLFW%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AA%97%E5%8F%A3.html">ä½¿ç”¨GLFWæ„å»ºä¸€ä¸ªçª—å£</a></li>
            
            
            
            <li><a href="/%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2/2023/01/29/Nuklear%E5%85%A5%E9%97%A8.html">Nuklearå…¥é—¨</a></li>
            
            
            
            <li><a href="/stm32/scons/2022/09/20/%E9%97%AA%E7%81%AF.html">CubeMX + SCons é—ªç¯å®éªŒ</a></li>
            
            
            
            <li><a class="active" href="#top">æ‰‹æ“ Gitbook ä¸»é¢˜</a></li>
            <ul id="toc">
<li><a href="#%E8%B5%B7%E5%9B%A0">èµ·å› </a></li>
<li><a href="#%E9%87%8D%E6%96%B0%E6%9E%84%E5%BB%BA">é‡æ–°æ„å»º</a></li>
<li>
<a href="#%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2">æœ¬åœ°éƒ¨ç½²</a><ul>
<li><a href="#%E5%88%9B%E5%BB%BA">åˆ›å»º</a></li>
<li>
<a href="#%E9%83%A8%E7%BD%B2">éƒ¨ç½²</a><ul><li><a href="#%E6%B7%BB%E5%8A%A0-webrick">æ·»åŠ  <code class="language-plaintext highlighter-rouge">webrick</code></a></li></ul>
</li>
<li>
<a href="#cleanup">Cleanup</a><ul><li><a href="#%E5%86%8D%E6%AC%A1%E6%9F%A5%E7%9C%8B%E6%95%88%E6%9E%9C">å†æ¬¡æŸ¥çœ‹æ•ˆæœ</a></li></ul>
</li>
</ul>
</li>
<li>
<a href="#%E9%A1%B5%E9%9D%A2%E5%88%B6%E4%BD%9C">é¡µé¢åˆ¶ä½œ</a><ul>
<li><a href="#%E4%B8%BB%E4%BD%93%E6%A1%86%E6%9E%B6">ä¸»ä½“æ¡†æ¶</a></li>
<li><a href="#css">CSS</a></li>
<li><a href="#%E6%A8%AA%E5%90%91-meta">æ¨ªå‘ Meta</a></li>
<li><a href="#markdown-%E6%9C%AA%E5%A4%84%E7%90%86">Markdown æœªå¤„ç†?</a></li>
<li><a href="#markdown-css">Markdown CSS</a></li>
</ul>
</li>
<li>
<a href="#%E7%9B%AE%E5%BD%95--%E9%A1%B6%E9%83%A8%E5%AF%BC%E8%88%AA--%E5%89%8D%E5%90%8E%E9%A1%B5%E9%9D%A2">ç›®å½• + é¡¶éƒ¨å¯¼èˆª + å‰åé¡µé¢</a><ul>
<li><a href="#position-sticky-%E4%B8%8D%E7%94%9F%E6%95%88"><code class="language-plaintext highlighter-rouge">position: sticky</code> ä¸ç”Ÿæ•ˆ?</a></li>
<li><a href="#%E5%A4%9A%E4%BD%99%E7%9A%84%E7%A9%BA%E6%A0%BC">å¤šä½™çš„ç©ºæ ¼?</a></li>
</ul>
</li>
<li><a href="#%E9%A1%B5%E5%86%85%E5%AF%BC%E8%88%AA">é¡µå†…å¯¼èˆª</a></li>
<li><a href="#colored-diff">Colored diff</a></li>
<li><a href="#%E5%9B%BE%E7%89%87%E6%94%BE%E5%A4%A7">å›¾ç‰‡æ”¾å¤§</a></li>
<li>
<a href="#jekyll-plugins">Jekyll Plugins</a><ul>
<li><a href="#jekyll-spaceship">Jekyll Spaceship</a></li>
<li>
<a href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3">æœç´¢å¼•æ“ç›¸å…³</a><ul>
<li><a href="#seo-tags">SEO Tags</a></li>
<li><a href="#sitemap">Sitemap</a></li>
<li>
<a href="#%E6%9C%80%E5%90%8E%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4">æœ€åä¿®æ”¹æ—¶é—´</a><ul><li><a href="#%E6%9C%80%E5%90%8E%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4%E6%9C%89%E8%AF%AF">æœ€åä¿®æ”¹æ—¶é—´æœ‰è¯¯?</a></li></ul>
</li>
</ul>
</li>
<li><a href="#%E5%88%86%E7%B1%BB%E7%9B%AE%E5%BD%95">åˆ†ç±»ç›®å½•</a></li>
</ul>
</li>
<li>
<a href="#github-action">Github Action</a><ul>
<li><a href="#repo-settings">Repo Settings</a></li>
<li><a href="#action">Action</a></li>
</ul>
</li>
</ul>
            
            
            
            <li><a href="/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/2022/09/12/%E5%9C%A8%E6%9C%AC%E5%9C%B0%E6%B5%8B%E8%AF%95%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99.html">åœ¨æœ¬åœ°æµ‹è¯•ä¸ªäººç½‘ç«™</a></li>
            
            
            
            <li><a href="/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/2022/09/11/%E6%83%B3%E8%A6%81%E4%B8%80%E4%B8%AA%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99.html">æƒ³è¦ä¸€ä¸ªä¸ªäººç½‘ç«™</a></li>
            
            
        </ul>
    </ul>
</div>
    <div id="nav-main">
    <!--Nav-Top-->
    <div id="nav-top">
        <a href="#top">æ‰‹æ“ Gitbook ä¸»é¢˜</a>
    </div>
    <div id="nav-page">
        <!--Prev Page-->
        <div id="nav-prev">
            
            <a href="/stm32/scons/2022/09/20/%E9%97%AA%E7%81%AF.html" aria-label="CubeMX + SCons é—ªç¯å®éªŒ">
                <i id="fa fa-angle-left"></i>
            </a>
            
        </div>
        <!--Page-->
        <div id="page">
    <!--Title-->
    <h1>æ‰‹æ“ Gitbook ä¸»é¢˜</h1>
    <!--Metadata-->
    <header id="meta">
        <ul>
            <!--Author-->
            <li id="author">
                Windmill-City
            </li>
            <!--Date-->
            
            <li id="date">
                2022-09-13
            </li>
            
            
            
            
            <li id="last-modified">
                2022-09-18
            </li>
            
            <!--Categories-->
            <ul id="categories">
                
                <li>
                    <a href="/category/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99">ä¸ªäººç½‘ç«™</a>
                </li>
                
            </ul>
        </ul>
    </header>
    <!--Markdown Content-->
    <section id="page-content" class="markdown-body">
        <h2 id="èµ·å› ">èµ·å› </h2>

<p>å›¾ç‰‡ä¸èƒ½ç‚¹å‡»æ”¾å¤§!</p>

<p>æœç´¢èµ„æ–™å‘ç°, éœ€è¦ä¿®æ”¹ä¸å°‘ <code class="language-plaintext highlighter-rouge">HTML</code> ä»£ç , ä¹‹å‰çš„ <code class="language-plaintext highlighter-rouge">Gitbook</code> ä¸»é¢˜åˆå¤ªå†—æ‚äº†, æƒ³äº†æƒ³è¿˜æ˜¯ç›´æ¥é‡å†™æ•´ä¸ªç½‘ç«™å§!</p>

<h2 id="é‡æ–°æ„å»º">é‡æ–°æ„å»º</h2>

<p>æ–°æ–¹æ¡ˆé‡‡ç”¨ <code class="language-plaintext highlighter-rouge">Jekyll</code> + <code class="language-plaintext highlighter-rouge">Github Action</code> æ¥è¿›è¡Œç½‘ç«™çš„éƒ¨ç½²</p>

<h2 id="æœ¬åœ°éƒ¨ç½²">æœ¬åœ°éƒ¨ç½²</h2>

<p><code class="language-plaintext highlighter-rouge">Jekyll</code> çš„å®‰è£…è¿‡ç¨‹è§ä¸Šä¸€ç¯‡æ–‡ç« <code class="language-plaintext highlighter-rouge">åœ¨æœ¬åœ°æµ‹è¯•ä¸ªäººç½‘ç«™</code></p>

<h3 id="åˆ›å»º">åˆ›å»º</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll new blog
<span class="nt">---</span>
New jekyll site installed <span class="k">in </span>E:/Codes/blog
</code></pre></div></div>

<h3 id="éƒ¨ç½²">éƒ¨ç½²</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve
<span class="nt">---</span>
jekyll-4.2.2/lib/jekyll/commands/serve/servlet.rb:3:in <span class="sb">`</span>require<span class="s1">': cannot load such file -- webrick (LoadError)
</span></code></pre></div></div>

<p>emmâ€¦? æœç´¢äº†ä¸€ä¸‹, åŸæ¥ <code class="language-plaintext highlighter-rouge">Ruby</code> åœ¨ <code class="language-plaintext highlighter-rouge">3.0</code> ä»¥åä¸å†é™„å¸¦ <code class="language-plaintext highlighter-rouge">webrick</code> äº†</p>

<h4 id="æ·»åŠ -webrick">æ·»åŠ  <code class="language-plaintext highlighter-rouge">webrick</code>
</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle add webrick
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve
<span class="nt">---</span>
Server address: http://127.0.0.1:4000/
</code></pre></div></div>

<p>è¿™ä¸‹æ­£å¸¸äº†, è®¿é—® <a href="http://127.0.0.1:4000/">http://127.0.0.1:4000/</a> æŸ¥çœ‹é¡µé¢æ•ˆæœ
<img src="/assets/InitalJekyll.png" alt="InitalJekyll"></p>

<h3 id="cleanup">Cleanup</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tree <span class="se">\f</span>
<span class="nt">---</span>
blog
â”œâ”€assets
â”œâ”€_includes
â”œâ”€_layouts
â”œâ”€_sass
â”‚  .gitignore
â”‚  404.html
â”‚  Gemfile
â”‚  Gemfile.lock
â”‚  Index.md
â”‚  _config.yml
</code></pre></div></div>

<p>æ¸…ç†æ— ç”¨çš„æ–‡ä»¶</p>

<p><code class="language-plaintext highlighter-rouge">_config.yml</code></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Site settings</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">æ˜ç†</span>
<span class="na">author</span><span class="pi">:</span> <span class="s">Windmill-City</span>
<span class="na">email</span><span class="pi">:</span> <span class="s">1449182174@qq.com</span>
<span class="na">description</span><span class="pi">:</span> <span class="pi">&gt;-</span>
  <span class="s">ç®€å•çš„è§„åˆ™æ„é€ å‡ºå¤æ‚çš„ç³»ç»Ÿ</span>
<span class="na">baseurl</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
<span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://windmill-city.github.io/"</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Index.md</code></p>

<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">home</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">ä¸»é¡µ</span>
<span class="na">permalink</span><span class="pi">:</span> <span class="s">/</span>
<span class="nn">---</span>

<span class="gt">&gt;{{ site.description }}</span>

</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Gemfile</code></p>

<pre><code class="language-gem">source "https://rubygems.org"
gem "jekyll", "~&gt; 4.2.2"
group :jekyll_plugins do
end

# Windows and JRuby does not include zoneinfo files, so bundle the tzinfo-data gem
# and associated library.
platforms :mingw, :x64_mingw, :mswin, :jruby do
  gem "tzinfo", "~&gt; 1.2"
  gem "tzinfo-data"
end

# Performance-booster for watching directories on Windows
gem "wdm", "~&gt; 0.1.1", :platforms =&gt; [:mingw, :x64_mingw, :mswin]

# Lock `http_parser.rb` gem to `v0.6.x` on JRuby builds since newer versions of the gem
# do not have a Java counterpart.
gem "http_parser.rb", "~&gt; 0.6.0", :platforms =&gt; [:jruby]

# Webserver library
gem "webrick", "~&gt; 1.7"
</code></pre>

<h4 id="å†æ¬¡æŸ¥çœ‹æ•ˆæœ">å†æ¬¡æŸ¥çœ‹æ•ˆæœ</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve
<span class="nt">---</span>
Server address: http://127.0.0.1:4000/
</code></pre></div></div>

<p><img src="/assets/PageAfterCleanup.png" alt="PageAfterCleanup"></p>

<p>æ­£ç¡®æ˜¾ç¤ºå•¦ï¼æ¥ä¸‹æ¥å°±æ˜¯ä»¥æ­¤ä¸ºåŸºçº¿è¿›è¡Œ <code class="language-plaintext highlighter-rouge">Gitbook</code> é¡µé¢çš„åˆ¶ä½œäº†</p>

<h2 id="é¡µé¢åˆ¶ä½œ">é¡µé¢åˆ¶ä½œ</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: center" colspan="2">é¡µé¢æ„æˆ</th>
      
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong>ä¾§æ </strong></td>
      <td style="text-align: center"><strong>æ–‡ç« </strong></td>
    </tr>
    <tr>
      <td style="text-align: center">æœç´¢</td>
      <td style="text-align: center">æ ‡é¢˜</td>
    </tr>
    <tr>
      <td style="text-align: center">ç›®å½•</td>
      <td style="text-align: center">Metadata</td>
    </tr>
    <tr>
      <td style="text-align: center">é¡µé¢å¯¼èˆª</td>
      <td style="text-align: center">å†…å®¹</td>
    </tr>
  </tbody>
</table>

<h3 id="ä¸»ä½“æ¡†æ¶">ä¸»ä½“æ¡†æ¶</h3>

<p>å…ˆè¿›è¡Œ <code class="language-plaintext highlighter-rouge">æ–‡ç« </code> éƒ¨åˆ†çš„åˆ¶ä½œ</p>

<p><code class="language-plaintext highlighter-rouge">home.html</code></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>

<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>{{ page.title }}Â·{{ site.title }}<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!--Title--&gt;</span>
        <span class="nt">&lt;h1&gt;</span>{{ page. title }}<span class="nt">&lt;/h1&gt;</span>
        <span class="c">&lt;!--Metadata--&gt;</span>
        <span class="nt">&lt;header</span> <span class="na">class=</span><span class="s">"meta"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;ul&gt;</span>
                <span class="c">&lt;!--Author--&gt;</span>
                <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"author"</span><span class="nt">&gt;</span>
                    {{ page.author | default: site.author }}
                <span class="nt">&lt;/li&gt;</span>
                <span class="c">&lt;!--Date--&gt;</span>
                {% if page.date %}
                <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"date"</span><span class="nt">&gt;</span>
                    {{ page.date | date: "%Y-%m-%d" }}
                <span class="nt">&lt;/li&gt;</span>
                {% endif %}
                <span class="c">&lt;!--Categories--&gt;</span>
                <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"categories"</span><span class="nt">&gt;</span>
                    {% for category in page.categories %}
                    <span class="nt">&lt;li&gt;</span>
                        {{ category }}
                    <span class="nt">&lt;/li&gt;</span>
                    {% endfor %}
                <span class="nt">&lt;/ul&gt;</span>
            <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;/header&gt;</span>
        <span class="c">&lt;!--Markdown Content--&gt;</span>
        <span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"content"</span><span class="nt">&gt;</span>
            {{ page.content }}
        <span class="nt">&lt;/section&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p><img src="/assets/homeNoCss.png" alt="homeNoCss"></p>

<p>å—¯! é¡µé¢çš„ä¸»ä½“ç»“æ„å‡ºæ¥äº†, æ¥ä¸‹æ¥ä¸ºå®ƒé™„åŠ  <code class="language-plaintext highlighter-rouge">CSS</code> æ•ˆæœ</p>

<h3 id="css">CSS</h3>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_layouts/home.html
</span><span class="gi">+++ b/_layouts/home.html
</span><span class="p">@@ -3,6 +3,8 @@</span>

 &lt;head&gt;
     &lt;title&gt;æ‰‹æ“ Gitbook ä¸»é¢˜Â·æ˜ç†&lt;/title&gt;
<span class="gi">+    &lt;!--CSS Style Sheets--&gt;
+    &lt;link rel="stylesheet" href="/assets/css/styles.css" /&gt;
</span> &lt;/head&gt;
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">styles.sass</code></p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gi">+++ b/assets/css/styles.sass
</span><span class="p">@@ -0,0 +1,3 @@</span>
<span class="gi">+---
+---
+@import page
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">styles.sass</code> ä½œä¸ºæ‰€æœ‰ <code class="language-plaintext highlighter-rouge">scss</code> æ–‡ä»¶çš„é›†åˆ</p>

<p>ç”±äº <code class="language-plaintext highlighter-rouge">Front Matter</code> çš„å­˜åœ¨, ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">scss</code> åœ¨æ ¼å¼åŒ–æ—¶ä¼šå‡ºé—®é¢˜, è¿™é‡Œä½¿ç”¨ <code class="language-plaintext highlighter-rouge">sass</code></p>

<p><code class="language-plaintext highlighter-rouge">page.scss</code></p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gi">+++ b/_sass/page.scss
</span><span class="p">@@ -0,0 +1,3 @@</span>
<span class="gi">+.page {
+    background-color: #eee;
+}
</span></code></pre></div></div>

<p>è¿™é‡Œå…ˆä¿®æ”¹ä¸€ä¸‹èƒŒæ™¯é¢œè‰²ä½œä¸ºæµ‹è¯•</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/Index.md
</span><span class="gi">+++ b/Index.md
</span><span class="p">@@ -1,6 +1,8 @@</span>
 ---
 layout: home
 title: ä¸»é¡µ
<span class="gi">+date: 2022-9-13
+categories: cate1 cate2
</span> permalink: /
 ---
</code></pre></div></div>

<p>ä¸ºäº†æ–¹ä¾¿è°ƒè¯•, æ·»åŠ äº† <code class="language-plaintext highlighter-rouge">Metadata</code> æ¡ç›®</p>

<p><img src="/assets/CssTest.png" alt="CssTest"></p>

<p>èƒŒæ™¯é¢œè‰²å‘ç”Ÿäº†æ”¹å˜, éªŒè¯äº† <code class="language-plaintext highlighter-rouge">scss</code> æ–‡ä»¶çš„æœ‰æ•ˆæ€§</p>

<h3 id="æ¨ªå‘-meta">æ¨ªå‘ Meta</h3>

<p>æ¥ä¸‹æ¥è®© <code class="language-plaintext highlighter-rouge">Metadata</code> æ¨ªå‘æ’å¸ƒ</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gi">+++ b/_sass/page.scss
</span><span class="p">@@ -0,0 +1,25 @@</span>
<span class="gi">+.page {
+    .meta {
+        ul {
+            margin-top: -0.6em;
+            padding: 0;
+            color: #999;
+
+            li {
+                display: inline-block;
+                margin-right: 8px;
+                padding-left: 12px;
+                border-left: 1px solid #EEE;
+            }
+
+            .author {
+                padding-left: 0;
+                border: none;
+            }
+
+            .categories {
+                display: inline-block;
+            }
+        }
+    }
+}
</span></code></pre></div></div>

<p><img src="/assets/Metadata-Horizontal.png" alt="Metadata-Horizontal"></p>

<p>æ•ˆæœä¸é”™, è¾¾åˆ°äº†é¢„æœŸç›®æ ‡</p>

<h3 id="markdown-æœªå¤„ç†">Markdown æœªå¤„ç†?</h3>

<p>emm..? æ€ä¹ˆ <code class="language-plaintext highlighter-rouge">Markdown</code> å¥½åƒæ²¡æœ‰è¢«å¤„ç†?</p>

<p>æœç´¢å‘ç°, ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">page.content</code> ä»…ä»…å°† <code class="language-plaintext highlighter-rouge">Markdown Raw</code> å¼•å…¥, è¦å¼•å…¥å¤„ç†åçš„åº”å½“ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">content</code></p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_layouts/home.html
</span><span class="gi">+++ b/_layouts/home.html
</span><span class="p">@@ -36,7 +36,7 @@</span>
         &lt;/header&gt;
         &lt;!--Markdown Content--&gt;
         &lt;section class="content"&gt;
<span class="gd">-            {{ page.content }}
</span><span class="gi">+            {{ content }}
</span>         &lt;/section&gt;
     &lt;/div&gt;
 &lt;/body&gt;
</code></pre></div></div>

<p><img src="/assets/FixMarkdown.png" alt="FixMarkdown"></p>

<p>å¯ä»¥çœ‹åˆ°å·²ç»æ˜¯å¤„ç†åçš„ <code class="language-plaintext highlighter-rouge">Markdown</code> äº†</p>

<h3 id="markdown-css">Markdown CSS</h3>

<p>ç°åœ¨ä¸º <code class="language-plaintext highlighter-rouge">Markdown Content</code> é™„åŠ æ ·å¼è¡¨å§!</p>

<p>ä¸éœ€è¦è‡ªå·±é€ è½®å­, <a href="https://github.com/sindresorhus/github-markdown-css">github-markdown-css</a> è¿™ä¸ªé¡¹ç›®ç›´æ¥ä» <code class="language-plaintext highlighter-rouge">Github</code> çš„ <code class="language-plaintext highlighter-rouge">CSS</code> é‡Œé¢æå–äº† <code class="language-plaintext highlighter-rouge">Markdown</code> ç›¸å…³éƒ¨åˆ†, ç›´æ¥å·å°±å¥½äº†</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:sindresorhus/github-markdown-css.git
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">assets</code>-&gt;<code class="language-plaintext highlighter-rouge">css</code>&lt;-<code class="language-plaintext highlighter-rouge">github-markdown.css</code></p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_layouts/home.html
</span><span class="gi">+++ b/_layouts/home.html
</span><span class="p">@@ -5,6 +5,7 @@</span>
     &lt;title&gt;{{ page.title }}Â·{{ site.title }}&lt;/title&gt;
     &lt;!--CSS Style Sheets--&gt;
     &lt;link rel="stylesheet" href="/assets/css/styles.css" /&gt;
<span class="gi">+    &lt;link rel="stylesheet" href="/assets/css/github-markdown.css" /&gt;
</span> &lt;/head&gt;

 &lt;body&gt;
<span class="p">@@ -35,7 +36,7 @@</span>
             &lt;/ul&gt;
         &lt;/header&gt;
         &lt;!--Markdown Content--&gt;
<span class="gd">-        &lt;section class="content"&gt;
</span><span class="gi">+        &lt;section class="markdown-body"&gt;
</span>             {{ content }}
         &lt;/section&gt;
     &lt;/div&gt;
</code></pre></div></div>

<p>æ³¨æ„: <code class="language-plaintext highlighter-rouge">Markdown</code> å†…å®¹çš„ç±»åè¦ä¸º <code class="language-plaintext highlighter-rouge">markdown-body</code></p>

<p><img src="/assets/GithubMarkdown.png" alt="GithubMarkdown"></p>

<p><code class="language-plaintext highlighter-rouge">CSS</code> åº”ç”¨æˆåŠŸ!</p>

<h2 id="ç›®å½•--é¡¶éƒ¨å¯¼èˆª--å‰åé¡µé¢">ç›®å½• + é¡¶éƒ¨å¯¼èˆª + å‰åé¡µé¢</h2>

<p>å°† <code class="language-plaintext highlighter-rouge">home.html</code> æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶, æ”¾åˆ° <code class="language-plaintext highlighter-rouge">_includes</code> ä¸­</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>

{% include head.html %}

<span class="nt">&lt;body&gt;</span>
    {% include nav-aside.html %}
    {% include nav-main.html %}
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p><img src="/assets/NavMain.png" alt="NavMain"></p>

<p>Ref: <a href="https://www.w3.org/TR/css-flexbox-1/">CSS Flexible Box Layout Module Level 1</a></p>

<p>æ•´ä½“é‡‡ç”¨ <code class="language-plaintext highlighter-rouge">Flexbox</code> è¿›è¡Œå¸ƒå±€</p>

<p>ä¸»è¦éš¾ç‚¹æ˜¯æŠŠ <code class="language-plaintext highlighter-rouge">ä¾§æ </code> \ <code class="language-plaintext highlighter-rouge">é¡¶éƒ¨å¯¼èˆªæ </code> \ <code class="language-plaintext highlighter-rouge">é¡µé¢ç®­å¤´</code> ç»™å›ºå®šä½</p>

<p><code class="language-plaintext highlighter-rouge">Flexbox</code> åœ¨ <code class="language-plaintext highlighter-rouge">çˆ¶å…ƒç´ </code> è„±ç¦»æ–‡æ¡£æµæ—¶è¡¨ç°é€šå¸¸ä¸ç¬¦åˆé¢„æœŸ, å…·ä½“ç®—æ³•è§ <a href="https://www.w3.org/TR/css-flexbox-1/#line-sizing">Line Length Determination</a></p>

<p>è¿™æ„å‘³ç€ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">position: fix | absolute;</code> å°†å…ƒç´ å›ºå®šçš„æ–¹æ³•æ˜¯è¡Œä¸é€šçš„</p>

<p>æ‰€ä»¥åº”è¯¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">position: sticky</code> é…åˆ <code class="language-plaintext highlighter-rouge">top | bottom | left |right</code> æ¥è¿›è¡Œå…ƒç´ çš„å›ºå®š</p>

<h3 id="position-sticky-ä¸ç”Ÿæ•ˆ">
<code class="language-plaintext highlighter-rouge">position: sticky</code> ä¸ç”Ÿæ•ˆ?</h3>

<p><code class="language-plaintext highlighter-rouge">Flexbox</code>: <code class="language-plaintext highlighter-rouge">align-items</code> çš„é»˜è®¤å±æ€§æ˜¯ <code class="language-plaintext highlighter-rouge">stretch</code>, è¿™ä¼šå¯¼è‡´å…ƒç´ åœ¨çºµè½´ä¸Šæ‹‰ä¼¸</p>

<p><img src="/assets/Stretched.png" alt="Stretched"></p>

<p>ç®­å¤´ä¸‹æ–¹çš„ç©ºç™½æ˜¯æ‹‰ä¼¸çš„ç»“æœ, è§‚å¯Ÿåˆ°, è°ƒè¯•å·¥å…· <code class="language-plaintext highlighter-rouge">Computed</code> ä¸­çš„ <code class="language-plaintext highlighter-rouge">height = 3032.02px</code></p>

<p>è¿™æ„å‘³ç€è¿™ä¸ªå…ƒç´ æ˜¯ä¸€ç›´å»¶ä¼¸åˆ° <code class="language-plaintext highlighter-rouge">DOM</code> åº•éƒ¨çš„, è¿›è€Œäº§ç”Ÿ <code class="language-plaintext highlighter-rouge">position: sticky</code> ä¸ç”Ÿæ•ˆçš„å‡è±¡</p>

<p><img src="/assets/NoStretch.png" alt="NoStretch"></p>

<p>ä¸º <code class="language-plaintext highlighter-rouge">Flexbox</code> è®¾ç½® <code class="language-plaintext highlighter-rouge">align-items=flex-start</code>, è¿™æ—¶ <code class="language-plaintext highlighter-rouge">Computed</code> ä¸­çš„ <code class="language-plaintext highlighter-rouge">height = 453px</code></p>

<p>æ˜¾ç„¶è¿™æ‰æ˜¯æ­£ç¡®çš„å…ƒç´ é«˜åº¦, è¿™æ—¶ <code class="language-plaintext highlighter-rouge">position: sticky</code> ä¹Ÿäº§ç”Ÿäº†å›ºå®šå…ƒç´ çš„æ•ˆæœäº†</p>

<h3 id="å¤šä½™çš„ç©ºæ ¼">å¤šä½™çš„ç©ºæ ¼?</h3>

<p><code class="language-plaintext highlighter-rouge">Pages</code> ç›®å½•çš„ç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿé¢å¤–çš„ <code class="language-plaintext highlighter-rouge">ç©ºæ ¼</code>, å¯¼è‡´ <code class="language-plaintext highlighter-rouge">CSS</code> çš„ <code class="language-plaintext highlighter-rouge">:empty</code> ä¼ªç±»ä¸ç”Ÿæ•ˆ</p>

<p><img src="/assets/ExtraWhiteSpace.png" alt="ExtraWhiteSpace"></p>

<p>åœ¨ <code class="language-plaintext highlighter-rouge">{%</code>..<code class="language-plaintext highlighter-rouge">%}</code> å‰åæ·»åŠ ç©ºæ ¼æ¸…é™¤æ ‡è®° <code class="language-plaintext highlighter-rouge">-</code> å°±å¯ä»¥äº†!</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_layouts/home.html
</span><span class="gi">+++ b/_layouts/home.html
</span><span class="p">@@ -15,13 +15,13 @@</span>
             &lt;li class="home"&gt;&lt;a href="/"&gt;{{ site.title }}&lt;/a&gt;&lt;/li&gt;
             &lt;!--Table of Pages--&gt;
             &lt;ul class="pages"&gt;
<span class="gd">-                {% for _page in site.pages %}
</span><span class="gi">+                {%- for _page in site.pages -%}
</span>                 {% comment %}Skip page with empty title{% endcomment %}
<span class="gd">-                {% unless _page.title %}{% continue %}{% endunless %}
</span><span class="gi">+                {%- unless _page.title -%}{% continue %}{%- endunless -%}
</span>                 {% comment %}Skip home page{% endcomment %}
<span class="gd">-                {% if _page.url == "/" %}{% continue %}{% endif %}
</span><span class="gi">+                {%- if _page.url == "/" -%}{% continue %}{%- endif -%}
</span>                 &lt;li&gt;&lt;a href="{{ _page.url }}"&gt;{{ _page.title }}&lt;/a&gt;&lt;/li&gt;
<span class="gd">-                {% endfor %}
</span><span class="gi">+                {%- endfor -%}
</span>             &lt;/ul&gt;
             &lt;!--Table of Posts--&gt;
             &lt;ul class="posts"&gt;
</code></pre></div></div>

<h2 id="é¡µå†…å¯¼èˆª">é¡µå†…å¯¼èˆª</h2>

<p><a href="https://github.com/allejo/jekyll-toc">jekyll-toc</a></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone git@github.com:allejo/jekyll-toc.git
</code></pre></div></div>

<p>å¤åˆ¶ <code class="language-plaintext highlighter-rouge">_includes/toc.html</code> åˆ° <code class="language-plaintext highlighter-rouge">_includes</code> ä¸­</p>

<p>åœ¨æƒ³è¦å¢åŠ é¡µå†…å¯¼èˆªçš„åœ°æ–¹æ”¾ä¸Š <code class="language-plaintext highlighter-rouge">{% include toc.html html=content %}</code> å°±å¯ä»¥äº†</p>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">html</span> <span class="p">{</span>
    <span class="na">scroll-behavior</span><span class="p">:</span> <span class="n">smooth</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å¢åŠ å¹³æ»‘æ»šåŠ¨</p>

<p><img src="/assets/ToC.png" alt="ToC"></p>

<h2 id="colored-diff">Colored diff</h2>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.gd</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="nf">rgb</span><span class="p">(</span><span class="m">255</span><span class="o">,</span> <span class="m">236</span><span class="o">,</span> <span class="m">236</span><span class="p">);</span>
<span class="p">}</span>
<span class="nc">.gi</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="nf">rgb</span><span class="p">(</span><span class="m">234</span><span class="o">,</span> <span class="m">255</span><span class="o">,</span> <span class="m">234</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ä¸º <code class="language-plaintext highlighter-rouge">diff</code> å¢åŠ é«˜äº®</p>

<h2 id="å›¾ç‰‡æ”¾å¤§">å›¾ç‰‡æ”¾å¤§</h2>

<p><a href="https://github.com/fengyuanchen/jquery-viewer">jquery-viewer</a></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>jquery-viewer jquery viewerjs
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">*/dist</code>-&gt;<code class="language-plaintext highlighter-rouge">assets/js|css</code></p>

<p>å°† <code class="language-plaintext highlighter-rouge">jquery.js</code> &amp; <code class="language-plaintext highlighter-rouge">viewer.js</code> &amp; <code class="language-plaintext highlighter-rouge">jquery-viewer.js</code> &amp; <code class="language-plaintext highlighter-rouge">viewer.css</code> å¤åˆ¶åˆ°æŒ‡å®šæ–‡ä»¶å¤¹</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;link</span>  <span class="na">href=</span><span class="s">"/assets/css/viewer.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/assets/js/jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/assets/js/viewer.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/assets/js/jquery-viewer.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<p>æ·»åŠ å¼•ç”¨</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
    <span class="kd">let</span> <span class="nx">Viewer</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">Viewer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#page-content</span><span class="dl">"</span><span class="p">).</span><span class="nx">viewer</span><span class="p">();</span>
    <span class="p">})</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>åˆå§‹åŒ–, æ‰«æ <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> å†…æ‰€æœ‰çš„ <code class="language-plaintext highlighter-rouge">&lt;img&gt;</code> æ ‡ç­¾</p>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">img</span> <span class="p">{</span>
    <span class="nl">cursor</span><span class="p">:</span> <span class="n">zoom-in</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è®¾ç½®é¼ æ ‡å…‰æ ‡</p>

<p><img src="/assets/ImgViewer.png" alt="ImgViewer"></p>

<p>ç‚¹å‡»å³å¯æ”¾å¤§å›¾ç‰‡</p>

<h2 id="jekyll-plugins">Jekyll Plugins</h2>

<h3 id="jekyll-spaceship">Jekyll Spaceship</h3>

<p><a href="https://github.com/jeffreytse/jekyll-spaceship">jekyll-spaceship</a></p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/Gemfile
</span><span class="gi">+++ b/Gemfile
</span><span class="p">@@ -1,6 +1,7 @@</span>
 source "https://rubygems.org"
 gem "jekyll", "~&gt; 4.2.2"     
 group :jekyll_plugins do     
<span class="gi">+  gem 'jekyll-spaceship'     
</span> end
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">install</span>
<span class="nt">---</span>
Bundle <span class="nb">complete</span><span class="o">!</span> 7 Gemfile dependencies, 38 gems now installed.
</code></pre></div></div>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_config.yml
</span><span class="gi">+++ b/_config.yml
</span><span class="p">@@ -12,3 +12,6 @@</span> defaults:
       path: ""
     values:
       layout: "post"
<span class="gi">+
+plugins:
+  - jekyll-spaceship
</span></code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll serve
<span class="nt">---</span>
  Jekyll Spaceship: ğŸš€ Jekyll-Spaceship 0.10.2
  Jekyll Spaceship: ğŸ‰ A Jekyll plugin to provide powerful supports.
  Jekyll Spaceship: ğŸ‘‰ https://github.com/jeffreytse/jekyll-spaceship
  Jekyll Spaceship: ğŸ—‚  use table-processor
  Jekyll Spaceship: ğŸ—‚  use mathjax-processor
  Jekyll Spaceship: ğŸ—‚  use plantuml-processor
  Jekyll Spaceship: ğŸ—‚  use mermaid-processor
  Jekyll Spaceship: ğŸ—‚  use polyfill-processor
  Jekyll Spaceship: ğŸ—‚  use media-processor
  Jekyll Spaceship: ğŸ—‚  use emoji-processor
  Jekyll Spaceship: ğŸ—‚  use element-processor
</code></pre></div></div>

<p>é…ç½®å®Œæˆ</p>

<h3 id="æœç´¢å¼•æ“ç›¸å…³">æœç´¢å¼•æ“ç›¸å…³</h3>

<h4 id="seo-tags">SEO Tags</h4>

<p><a href="https://github.com/jekyll/jekyll-seo-tag">jekyll-seo-tag</a></p>

<p>SEO(Search Engine Optimization) é¡¾åæ€ä¹‰å°±æ˜¯ä¼˜åŒ–æœç´¢å¼•æ“çš„ç´¢å¼•æ•ˆæœ, æé«˜ç½‘ç«™è®¿é—®é‡</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_includes/head.html
</span><span class="gi">+++ b/_includes/head.html
</span><span class="p">@@ -2,6 +2,8 @@</span>
     &lt;meta charset="utf-8"&gt;
     &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;

+    {% seo %}
<span class="gi">+
</span>     &lt;!--CSS Style Sheets--&gt;
     &lt;link rel="stylesheet" href="/assets/css/styles.css" /&gt;
     &lt;link rel="stylesheet" href="/assets/css/github-markdown.css" /&gt;
</code></pre></div></div>

<p><img src="/assets/SEO-Tags.png" alt="SEO-Tags"></p>

<p>å¯ä»¥çœ‹åˆ°å·²ç»å¢åŠ äº† <code class="language-plaintext highlighter-rouge">SEO-Tags</code> äº†</p>

<h4 id="sitemap">Sitemap</h4>

<p><a href="https://github.com/jekyll/jekyll-sitemap">jekyll-sitemap</a></p>

<p>Sitemap, é€šçŸ¥æœç´¢å¼•æ“æœ‰å“ªäº›ç½‘é¡µå¯ä¾›æŠ“å–</p>

<p>è§‚å¯Ÿåˆ° <code class="language-plaintext highlighter-rouge">_site</code> ä¸‹ç”Ÿæˆäº† <code class="language-plaintext highlighter-rouge">robots.txt</code> å’Œ <code class="language-plaintext highlighter-rouge">sitemap.xml</code></p>

<h4 id="æœ€åä¿®æ”¹æ—¶é—´">æœ€åä¿®æ”¹æ—¶é—´</h4>

<p><a href="https://github.com/gjtorikian/jekyll-last-modified-at">jekyll-last-modified-at</a></p>

<p>æä¾›ç½‘é¡µæœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´, æœç´¢å¼•æ“æ ¹æ®è¿™ä¸€ä¿¡æ¯ç¡®å®šæ˜¯å¦éœ€è¦æ›´æ–°ç´¢å¼•</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_includes/page.html
</span><span class="gi">+++ b/_includes/page.html
</span><span class="p">@@ -14,6 +14,11 @@</span>
                 {{ page.date | date: "%Y-%m-%d" }}
             &lt;/li&gt;
             {% endif %}
<span class="gi">+            {% assign lastMod = page.last_modified_at | date: "%Y-%m-%d" %}
+            {% assign publish = page.date | date: "%Y-%m-%d" %}
+            {% if publish != lastMod %}
+            &lt;li id="last-modified"&gt;
+                {{ lastMod }}
+            &lt;/li&gt;
</span>             &lt;!--Categories--&gt;
</code></pre></div></div>

<p>å¢åŠ æœ€åä¿®æ”¹æ—¶é—´æ˜¾ç¤º</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_sass/page.scss
</span><span class="gi">+++ b/_sass/page.scss
</span><span class="p">@@ -21,6 +21,11 @@</span>
                 border: none;
             }

+            .last-modified::before {
<span class="gi">+                content: '\f044';
+                font-family: "FontAwesome";
+            }
+
</span>             .categories {
                 display: inline-block;
             }
</code></pre></div></div>

<p>å›¾æ ‡çš„ <code class="language-plaintext highlighter-rouge">Unicode</code> å¯åœ¨ <code class="language-plaintext highlighter-rouge">FontAwesome</code> çš„ç½‘ç«™æŸ¥åˆ°</p>

<p><img src="/assets/LastModified.png" alt="LastModified"></p>

<h5 id="æœ€åä¿®æ”¹æ—¶é—´æœ‰è¯¯">æœ€åä¿®æ”¹æ—¶é—´æœ‰è¯¯?</h5>

<p>æœ¬åœ°æŸ¥çœ‹æ­£å¸¸, ä½†åœ¨ <code class="language-plaintext highlighter-rouge">Github Action</code> ä¸Šçš„å´æ˜¯éƒ¨ç½²æ—¶çš„æ—¥æœŸ</p>

<p>è¿™æ˜¯å› ä¸º <code class="language-plaintext highlighter-rouge">checkout action</code> ä»…ä»…è¿›è¡Œäº† <a href="https://github.com/actions/checkout">shallow clone</a></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span> <span class="s">a/.github/workflows/build-jekyll.yml</span>
<span class="s">+++ b/.github/workflows/build-jekyll.yml</span>
<span class="err">@@</span> <span class="s">-10,6 +10,8 @@ jobs</span><span class="err">:</span>
     <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
     <span class="na">steps</span><span class="pi">:</span>
       <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
<span class="na">+        with</span><span class="pi">:</span>
<span class="na">+          fetch-depth</span><span class="pi">:</span> <span class="s1">'</span><span class="s">0'</span>

       <span class="c1"># Use GitHub Actions' cache to cache dependencies on servers</span>
       <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/cache@v2</span>
</code></pre></div></div>

<p>ä¿®æ”¹ä¸º <code class="language-plaintext highlighter-rouge">deep clone</code></p>

<p>æœ¬åœ°æŸ¥çœ‹æ­£å¸¸, ä½†åœ¨ <code class="language-plaintext highlighter-rouge">Github Action</code> ä¸Šçš„æ—¥æœŸå´æå‰ä¸€å¤©</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">--- a/_config.yml
</span><span class="gi">+++ b/_config.yml
</span><span class="p">@@ -22,4 +22,6 @@</span> plugins:
<span class="gi">+
+timezone: Asia/Shanghai
</span></code></pre></div></div>

<p>è®¾ç½®æ—¶åŒº</p>

<h3 id="åˆ†ç±»ç›®å½•">åˆ†ç±»ç›®å½•</h3>

<p><a href="https://github.com/jekyll/jekyll-archives">jekyll-archives</a></p>

<p>è‡ªåŠ¨ç”Ÿæˆåˆ†ç±»ç›®å½•</p>

<p><code class="language-plaintext highlighter-rouge">archive.html</code></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>

{% include head.html %}

<span class="nt">&lt;body&gt;</span>
    {% include nav-aside.html %}
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"nav-main"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!--Nav-Top--&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"nav-top"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#top"</span><span class="nt">&gt;</span>{{ page.title }}<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"archive"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"posts"</span> <span class="na">class=</span><span class="s">"markdown-body"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;h1&gt;</span>{{ page.title }}<span class="nt">&lt;/h1&gt;</span>
                <span class="nt">&lt;ul&gt;</span>
                    {% for post in page.posts %}
                    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"post"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"date"</span><span class="nt">&gt;</span>{{ post.date | date: "%Y-%m-%d" }}<span class="nt">&lt;/span&gt;</span>
                        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"link"</span> <span class="na">href=</span><span class="s">"{{ post.url | relative_url }}"</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>
                    <span class="nt">&lt;/li&gt;</span>
                    {% endfor %}
                <span class="nt">&lt;/ul&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">archive.scss</code></p>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">#archive</span> <span class="p">{</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>

    <span class="nn">#posts</span> <span class="p">{</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">800px</span><span class="p">;</span>
        <span class="c1">// Extra space for showing the last item</span>
        <span class="nl">padding-bottom</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="/assets/CateIndex.png" alt="CateIndex"></p>

<h2 id="github-action">Github Action</h2>

<h3 id="repo-settings">Repo Settings</h3>

<p><code class="language-plaintext highlighter-rouge">Repo</code>-&gt;<code class="language-plaintext highlighter-rouge">Settings</code>-&gt;<code class="language-plaintext highlighter-rouge">Pages</code>-&gt;<code class="language-plaintext highlighter-rouge">Build and Deployment</code></p>

<p><code class="language-plaintext highlighter-rouge">Source</code> = <code class="language-plaintext highlighter-rouge">Deploy from a branch</code></p>

<table>
  <tbody>
    <tr>
      <td>
<code class="language-plaintext highlighter-rouge">Branch</code> = <code class="language-plaintext highlighter-rouge">gh-pages</code>
</td>
      <td><code class="language-plaintext highlighter-rouge">/root</code></td>
    </tr>
  </tbody>
</table>

<p>å¯ä»¥åœ¨ä¸‹é¢çš„ <code class="language-plaintext highlighter-rouge">Action</code> è¿è¡Œä¸€æ¬¡ä¹‹åå†é…ç½®, è®©å®ƒæ¥ç”Ÿæˆ <code class="language-plaintext highlighter-rouge">gh-pages</code> åˆ†æ”¯</p>

<h3 id="action">Action</h3>

<p><a href="https://github.com/jeffreytse/jekyll-deploy-action">jekyll-deploy-action</a></p>

<p>å‚ç…§æ–‡æ¡£æ·»åŠ  <code class="language-plaintext highlighter-rouge">build-jekyll.yml</code></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">Build and Deploy to Github Pages</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build_and_deploy</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>

      <span class="c1"># Use GitHub Actions' cache to cache dependencies on servers</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/cache@v2</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">vendor/bundle</span>
          <span class="na">key</span><span class="pi">:</span> <span class="s">${{ runner.os }}-gems-${{ hashFiles('**/Gemfile.lock') }}</span>
          <span class="na">restore-keys</span><span class="pi">:</span> <span class="pi">|</span>
            <span class="s">${{ runner.os }}-gems-</span>

      <span class="c1"># Use GitHub Deploy Action to build and deploy to Github</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">jeffreytse/jekyll-deploy-action@v0.4.0</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">provider</span><span class="pi">:</span> <span class="s2">"</span><span class="s">github"</span>
          <span class="na">token</span><span class="pi">:</span> <span class="s">${{ secrets.GITHUB_TOKEN }}</span>
</code></pre></div></div>

<p>é…ç½®å®Œæˆ</p>

<p><a href="https://docs.github.com/en/actions/security-guides/automatic-token-authentication">Automatic token authentication</a>
<code class="language-plaintext highlighter-rouge">GITHUB_TOKEN</code> æ˜¯åœ¨ <code class="language-plaintext highlighter-rouge">Workflow</code> è¿è¡Œæ—¶è‡ªåŠ¨åˆ†é…çš„, ä¸éœ€è¦é…ç½®</p>

    </section>
</div>
        <!--Next Page-->
        <div id="nav-next">
            
            <a href="/%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99/2022/09/12/%E5%9C%A8%E6%9C%AC%E5%9C%B0%E6%B5%8B%E8%AF%95%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99.html" aria-label="åœ¨æœ¬åœ°æµ‹è¯•ä¸ªäººç½‘ç«™">
                <i class="fa fa-angle-right"></i>
            </a>
            
        </div>
    </div>
</div>
</body>

</html>
